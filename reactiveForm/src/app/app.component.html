<div class="container-fuild mb-5">

  <h2>Reactive User Register Form</h2>

  {{registrationForm.value | json}}

<form [formGroup]="registrationForm" (ngSubmit)="onSubmit()"> 

<div class="form-group">
  <label> Name </label>
  <input [class.is-invalid]="name.invalid && name.touched"
  type="text" formControlName="name" class="form-control" name="name"  >
<!-- <small class="text-danger" [class.d-non]="name.valid || name.untouched"> *name is required</small> -->
<div *ngIf="name.invalid && name.touched">
  <small class="text-danger" *ngIf="name.errors?.required">*name is required</small> 
<small class="text-danger"*ngIf="name.errors?.minlength" >*name must contain 3 characters</small>
<small class="text-danger"*ngIf="name.errors?.forbiddenName" >*{{name.errors?.forbiddenName.value}} username not allowed</small>
</div>

</div>

<div class="form-group">
  <label> Email </label>
  <input type="email" formControlName="email" class="form-control" name="email"
  [class.is-invalid]="email.invalid && email.touched" >
  <small class="text-danger" [class.d-none]="email.valid || email.untouched" >*email is required</small>
</div>


<div class="form-check mb-3">
 <input type="checkbox" formControlName="subscribe" class="form-ckeck-input">
 <label class="form-check-label">
   send me promotional offers

 </label> 
</div>
  

<div class="form-group">
  <label> password </label>
  <input type="password" formControlName="password" class="form-control" >
</div>


<div class="form-group">
  <label> confpassword </label>
  <input [class.is-invalid]="registrationForm.errors?.misMatch" type="password" formControlName="confpassword" class="form-control" >
  <small class="text-danger"*ngIf="name.errors?.misMatch" >*password does not match</small>
</div>

<div formGroupName="address">

  <div class="form-group">
    <label> city </label>
    <input type="text" formControlName="city" class="form-control">
  </div>
  
  <div class="form-group">
    <label> state </label>
    <input type="text" formControlName="state" class="form-control">
  </div>
  
  <div class="form-group">
    <label> postal code </label>
    <input type="text" formControlName="postalcode" class="form-control">
  </div>

</div>


<button [disabled]="!registrationForm.valid" class="btn btn-primary">Register</button>
<button  (click)="onLoadData()" class="btn btn-secondary">LoadAPI</button>

</form>

</div>